(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(29)},21:function(e,t,a){},25:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),l=(a(21),a(31)),i=a(30),s=a(5),m=a(32),u=a(10),d=a(7);function g(){var e=JSON.parse(sessionStorage.getItem("curUser"))||void 0;if(void 0!==e)return d.Users.find(function(t){return t.id===parseInt(e,10)})}var p=a(8),v=a.n(p),f=g(),E=u.a.div({open:{x:"0%",delayChildren:200,staggerChildren:50}}),h=u.a.div({open:{y:0,opacity:1},closed:{y:20,opacity:0}}),b=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(JSON.parse(localStorage.getItem("chat"))),l=Object(s.a)(c,2),i=l[0],u=l[1],d=Object(n.useState)(!1),g=Object(s.a)(d,2),p=g[0],b=g[1],N=function(){u(JSON.parse(localStorage.getItem("chat")))};return null==i&&(i=[],localStorage.setItem("chat",JSON.stringify(i)),N()),f?(Object(n.useEffect)(function(){return window.addEventListener("storage",N),setTimeout(function(){b(!0)},500),function(){window.removeEventListener("storage",N)}}),r.a.createElement("div",{className:"chatroom"},r.a.createElement("div",{className:"topbar"},r.a.createElement("img",{src:v.a,alt:"logo"}),r.a.createElement("div",{className:"menu"},r.a.createElement("div",{className:"user-img",style:{backgroundImage:"url("+f.img+")"}}),r.a.createElement("div",null,r.a.createElement("p",null,f.displayName),r.a.createElement("span",{onClick:function(){return sessionStorage.removeItem("curUser"),window.location.href="/"}},"Log out")))),r.a.createElement("div",{className:"chat-container"},r.a.createElement(E,{className:"chat",pose:p?"open":"closed"},i.map(function(e,t){return r.a.createElement(h,{className:"msg "+(f.id===e.user.id?"cur":""),key:t},r.a.createElement("div",{className:"userimg"},r.a.createElement("img",{alt:"userimg",src:e.user.img})),r.a.createElement("div",{className:"content"},e.msg))}),0===i.length?r.a.createElement(h,{className:"nomsg"},"No messages"):null)),r.a.createElement("div",{className:"submitform"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={user:f,msg:e.target[0].value,timeStamp:new Date};i.push(t),localStorage.setItem("chat",JSON.stringify(i)),o("")}},r.a.createElement("input",{value:a,type:"text",onChange:function(e){return o(e.target.value)}}),r.a.createElement("input",{disabled:0===a.length,type:"submit",value:"Submit"}))))):r.a.createElement(m.a,{to:"/login"})},N=g(),w=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),l=Object(s.a)(c,2),i=l[0],u=l[1],g=Object(n.useState)(!1),p=Object(s.a)(g,2),f=p[0],E=p[1];return N?r.a.createElement(m.a,{to:"/tabchat/#/"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"welcome "+(f?"active":"")},r.a.createElement("img",{src:v.a,alt:"logo"})),r.a.createElement("div",{className:"login-form "+(f?"remove":"")},r.a.createElement("h2",null,"Welcome to ",r.a.createElement("span",null,"Tabchat!")),r.a.createElement("p",null,"Please enter your username to get started ",r.a.createElement("br",null),r.a.createElement("span",null,'(It\'s probably something like "johndoe", "jimdoe" or "janedoe")')),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=d.Users.findIndex(function(t){return t.userName.toLowerCase()===e.target[0].value});-1!==t?(E(!0),sessionStorage.setItem("curUser",JSON.stringify(d.Users[t].id)),setTimeout(function(){window.location.href="/"},1500)):u("Unknown user")}},r.a.createElement("div",{className:i?"error":""},r.a.createElement("input",{type:"text",onChange:function(e){o(e.target.value),u("")},value:a}),r.a.createElement("p",null,i)),r.a.createElement("input",{type:"submit",value:"Submit"}))))};a(25);a(26).config();var S=function(){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"pagecontainer"},r.a.createElement(i.a,{exact:!0,path:"/",component:b}),r.a.createElement(i.a,{exact:!0,path:"/login",component:w}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,t){e.exports={Users:[{id:1,userName:"johndoe",displayName:"John Doe",img:"https://d3iw72m71ie81c.cloudfront.net/male-44.jpg"},{id:2,userName:"janedoe",displayName:"Jane Doe",img:"https://d3iw72m71ie81c.cloudfront.net/female-44.jpg"},{id:3,userName:"jimdoe",displayName:"Jim Doe",img:"https://d3iw72m71ie81c.cloudfront.net/male-43.jpg"}]}},8:function(e,t,a){e.exports=a.p+"static/media/tabchat-logo.57a052e3.png"}},[[15,1,2]]]);
//# sourceMappingURL=main.9c3a9381.chunk.js.map